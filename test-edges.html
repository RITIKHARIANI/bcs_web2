<!DOCTYPE html>
<html>
<head>
    <title>ReactFlow Edge Test</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/reactflow@11.10.1/dist/umd/index.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/reactflow@11.10.1/dist/style.css">
    <style>
        body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }
        .react-flow__container { height: 500px; border: 1px solid #ccc; }
        .course-node { 
            padding: 10px; 
            background: #3B82F6; 
            color: white; 
            border-radius: 5px; 
            min-width: 120px;
            text-align: center;
        }
        .module-node { 
            padding: 8px; 
            background: #8B5CF6; 
            color: white; 
            border-radius: 5px; 
            min-width: 100px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>ReactFlow Edge Visibility Test</h1>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState } = React;
        const { ReactFlow, Controls, Background } = ReactFlowLib;
        
        // Test nodes
        const initialNodes = [
            {
                id: 'course-1',
                type: 'course',
                position: { x: 100, y: 100 },
                data: { label: 'Test Course' }
            },
            {
                id: 'module-1',
                type: 'module',
                position: { x: 400, y: 200 },
                data: { label: 'Test Module' }
            }
        ];
        
        // Test edges
        const initialEdges = [
            {
                id: 'course-1-module-1',
                source: 'course-1',
                target: 'module-1',
                type: 'smoothstep',
                style: { 
                    stroke: '#3B82F6', 
                    strokeWidth: 3 
                },
                label: 'contains'
            }
        ];
        
        // Custom node components
        const CourseNode = ({ data }) => (
            React.createElement('div', { className: 'course-node' }, data.label)
        );
        
        const ModuleNode = ({ data }) => (
            React.createElement('div', { className: 'module-node' }, data.label)
        );
        
        const nodeTypes = {
            course: CourseNode,
            module: ModuleNode
        };
        
        function TestFlow() {
            const [nodes, setNodes] = useState(initialNodes);
            const [edges, setEdges] = useState(initialEdges);
            
            console.log('Nodes:', nodes);
            console.log('Edges:', edges);
            
            return React.createElement(
                'div',
                { style: { height: '500px' } },
                React.createElement(ReactFlow, {
                    nodes: nodes,
                    edges: edges,
                    nodeTypes: nodeTypes,
                    fitView: true,
                    children: [
                        React.createElement(Background),
                        React.createElement(Controls)
                    ]
                })
            );
        }
        
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(TestFlow));
    </script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
</html>
