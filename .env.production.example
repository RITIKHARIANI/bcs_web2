# ======================================
# PRODUCTION ENVIRONMENT VARIABLES
# ======================================
#
# This file shows example environment variables for PRODUCTION
# (University Vercel deployment at brainandcognitivescience.org)
#
# Copy these to university Vercel project:
# Vercel → University Project → Settings → Environment Variables
#
# DO NOT COMMIT ACTUAL VALUES TO GIT!
# This is just a template with placeholder values.
#
# ======================================

# ==================== DATABASE ====================
# University Supabase Project (Production Database)
#
# IMPORTANT: Use port 6543 (transaction pooler) for Vercel serverless
# Format: postgresql://postgres.<PROJECT_ID>:<PASSWORD>@<HOST>:6543/postgres?pgbouncer=true&connection_limit=1
#
DATABASE_URL="postgresql://postgres.UNIVERSITY_PROD_PROJECT_ID:UNIVERSITY_PROD_PASSWORD@aws-1-us-east-1.pooler.supabase.com:6543/postgres?pgbouncer=true&connection_limit=1"

# ==================== AUTHENTICATION ====================
# NextAuth Configuration for Production
#
# NEXTAUTH_URL: Production custom domain
# NEXTAUTH_SECRET: Generate NEW secret for production: openssl rand -base64 32
# IMPORTANT: Use different secret than development!
#
NEXTAUTH_URL="https://brainandcognitivescience.org"
NEXTAUTH_SECRET="your-prod-secret-32-characters-different-from-dev-generate-new"

# ==================== EMAIL (RESEND) ====================
# University Resend Account for Production
#
# EMAIL_PROVIDER: Must be "resend" for production (no console mode)
# RESEND_API_KEY: Get from university Resend account (https://resend.com/api-keys)
# EMAIL_FROM: Production email (must match verified domain: brainandcognitivescience.org)
# EMAIL_FROM_NAME: Display name for production emails
#
EMAIL_PROVIDER="resend"
RESEND_API_KEY="re_university_production_api_key_here"
EMAIL_FROM="noreply@brainandcognitivescience.org"
EMAIL_FROM_NAME="BCS E-Textbook"

# ==================== ENVIRONMENT ====================
# Node environment setting (must be production)
#
NODE_ENV="production"

# ==================== FEATURE FLAGS ====================
# Enable/disable features in production
# Only enable stable, tested features
#
NEXT_PUBLIC_ENABLE_RICH_TEXT_EDITOR=true
NEXT_PUBLIC_ENABLE_GRAPH_VISUALIZATION=true
NEXT_PUBLIC_ENABLE_ANALYTICS=true  # Enable analytics in production

# ==================== NOTES ====================
#
# Security Best Practices:
# - Use DIFFERENT secrets for dev and production
# - Never share production credentials with dev environment
# - Rotate production secrets every 6 months
# - Use university email for service accounts
# - Enable 2FA on all university accounts (Vercel, Supabase, Resend)
#
# Database Port:
# - Must use 6543 (transaction pooler) for Vercel serverless
# - Port 5432 will cause connection pool exhaustion
#
# Email Domain:
# - Must match domain verified in university Resend account
# - Domain must have DNS records configured in Vercel
# - 3 DNS records required: TXT (verify), MX (routing), TXT (DKIM)
#
# Monitoring:
# - Check Vercel deployment logs regularly
# - Monitor Resend email delivery rates
# - Set up alerts for database connection errors
# - Review Supabase query performance monthly
#
# Deployment:
# - All env vars must be set before first deployment
# - Redeploy after changing any environment variable
# - Test thoroughly on dev before pushing to production
# - Keep backup of current env vars before making changes
#
# Access Control:
# - Limit who can access production Vercel project
# - Use Vercel Teams for better permission management
# - Keep production credentials in university password manager
# - Document who has access to what (maintain access log)
#
# ======================================
